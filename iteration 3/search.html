<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Search</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- single exhibit style -->
    <link rel="stylesheet" href="css/single/single-style.css">

    <!-- search page style -->
    <link href="css/single/search-style.css" rel="stylesheet">

    <!-- favicons -->
    <link rel="icon" type="image/jpg" sizes="32x32" href="images/icon.jpg">

    <!-- Fonts URL -->
    <link href="https://fonts.googleapis.com/css?family=Karla:400,700%7CPlayfair+Display:400,500,600,700,800,900%7CWork+Sans:300,400,500,600,700,800,900&display=swap" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/single/nav-shape.css">

</head>


<body>
<!-- navi-->
<nav class="main-nav-one stricky">
    <div class="container">
        <div class="inner-container">
            <div class="logo-box">
                <a href="home-index.html">
                    <img src="images/logo-1-1.png" alt="" width="120">
                </a>

            </div><!-- /.logo-box -->
            <div class="main-nav__main-navigation">
                <ul class="main-nav__navigation-box">
                    <li>
                        <a href="home-index.html">Home</a>

                    </li>
                    <li>
                        <a href="dynasty.html">Times</a>

                    </li>
                    <li>
                        <a href="creative.html">Products</a>
                    </li>

                    <li><a href="search.html">Search<img src="images/search.svg" width = "25"></a></li>


                </ul><!-- /.main-nav__navigation-box -->
            </div><!-- /.main-nav__main-navigation -->
            <div class="main-nav__right">
                <div class="main-nav-mobile">
                    <li><img src="images/down.png" alt="" width="30">
                        <ul>
                            <li><a href="home-index.html">Home</a></li>
                            <li><a href="dynasty.html">Times</a></li>
                            <li><a href="creative.html">Products</a></li>
                            <li><a href="search.html">Search<img src="images/search.svg" width = "20"></a></li>
                        </ul>
                    </li>
                </div>
            </div><!-- /.main-nav__right -->
        </div><!-- /.inner-container -->
    </div><!-- /.container -->
</nav>
<!-- search page-->
<div class="header">
        <form>
            <h1>Collection Search</h1>
            <div class="form-box">
                <input type="text" id="nn" class="search-field" placeholder="find collections by name">
                <a href="#" onclick="getKey()"><img src="images/single/search.svg" width = "20"></a>
            </div>
            <div class="search-item" id="1">
                <a href="single1.html" id="a1">Simuwu Tripod</a>
            </div>
            <div class="search-item" id="2">
                <a href="single2.html" id="a2" >SiXin Stone-bull</a>
            </div>
            <div class="search-item" id="3">
                <a href="single3.html" id="a3">Bronze cup</a>
            </div>
            <div class="search-item" id="4">
                <a href="single4.html" id="a4">Fuchai sword</a>
            </div>
            <div class="search-item" id="5">
                <a href="single5.html" id="a5">Copper shaft head</a>
            </div>
            <div class="search-item" id="6">
                <a href="single6.html" id="a6">Nobles Lu bronze vessel</a>
            </div>
            <div class="search-item" id="7">
                <a href="single7.html" id="a7">Yangling tiger Amulet</a>
            </div>
            <div class="search-item" id="8">
                <a href="single8.html" id="a8">imperial jade seal</a>
            </div>
            <div class="search-item" id="9">
                <a href="single9.html" id="a9">longevity embroideries</a>
            </div>
            <div class="search-item" id="10">
                <a href="single10.html" id="a10">Eastern Roman coins</a>
            </div>
            <div class="search-item" id="11">
                <a href="single11.html" id="a11">Kaiyuan banknotes</a>
            </div>
            <div class="search-item" id="12">
                <a href="single12.html" id="a12">Gilt gold and silver Sachet</a>
            </div>
            <div class="search-item" id="13">
                <a href="single13.html" id="a13">Dream Pool Essays</a>
            </div>
            <div class="search-item" id="14">
                <a href="single14.html" id="a14">Agate plum bowl</a>
            </div>
            <div class="search-item" id="15">
                <a href="single15.html"  id="a15">Yuhou copper seal</a>
            </div>
            <div class="search-item" id="16">
                <a href="single16.html" id="a16">Riverside at Qingming</a>
            </div>
            <div class="search-item" id="17">
                <a href="single17.html" id="a17">Tongxing banknote</a>
            </div>
            <div class="search-item" id="18">
                <a href="single18.html" id="a18">Blue and white peony plate</a>
            </div>
            <div class="search-item" id="19">
                <a href="single19.html" id="a19">Blue and white dragon pot</a>
            </div>
            <div class="search-item" id="20">
                <a href="single20.html" id="a20">Compendium of Materia Medica</a>
            </div>
            <div class="search-item" id="21">
                <a href="single21.html" id="a21">Zhenghe bell</a>
            </div>
            <div class="search-item" id="22">
                <a href="single22.html" id="a22">enamel peony pattern bowl</a>
            </div>
            <div class="search-item" id="23">
                <a href="single23.html" id="a23">Taiping Kingdom Coin</a>
            </div>
            <div class="search-item" id="24">
                <a href="single24.html" id="a24">The Scholars</a>
            </div>
            <div class="search-item" id="25">
                <a href="single25.html" id="a25">Yuanpu side sail scroll</a>
            </div>
            <div class="search-item" id="26">
                <a href="single26.html" id="a26">Textile carding machine</a>
            </div>
            <div class="search-item" id="27">
                <a href="single27.html" id="a27">Large Dragon Stamps</a>
            </div>
            <div class="search-item" id="28">
                <a href="single28.html" id="a28">railway surveyor</a>
            </div>
            <div class="search-item" id="29">
                <a href="single29.html" id="a29">natural selection translation</a>
            </div>
            <div class="search-item" id="30">
                <a href="single30.html" id="a30">Caie's sword</a>
            </div>
            <div class="search-item" id="31">
                <a href="single31.html" id="a31">New youth</a>
            </div>
            <div class="search-item" id="32">
                <a href="single32.html" id="a32">Liberation Memorial Cup</a>
            </div>
            <div class="search-item" id="33">
                <a href="single33.html" id="a33">Anshan denoter</a>
            </div>
            <div class="search-item" id="34">
                <a href="single34.html" id="a34">Jade Dragon</a>
            </div>
            <div class="search-item" id="35">
                <a href="single35.html" id="a35">Spotted deer fossil</a>
            </div>
            <div class="search-item" id="36">
                <a href="single36.html" id="a36">Hilltop cave Skull</a>
            </div>
            <div class="search-item" id="37">
                <a href="single37.html" id="a37">Pointed stone tool</a>
            </div>
            <div class="search-item" id="38">
                <a href="single38.html" id="a38">Colored pottery basin</a>
            </div>
            <div class="search-item" id="39">
                <a href="single39.html" id="a39">Carbonized rice</a>
            </div>
            <div class="search-item" id="40">
                <a href="single40.html" id="a40">Jade seal of Gongsun gu</a>
            </div>
            <div class="search-item" id="41">
                <a href="single41.html" id="a41">Chronicle</a>
            </div>
            <div class="search-item" id="42">
                <a href="single42.html" id="a42">iron plough</a>
            </div>
            <div class="search-item" id="msg">
                <span>Sorry! No relevant search results</span>
            </div>



        </form>

</div>


<script>
    var key;

    function getKey(){
        key=document.getElementById("nn").value;
        setNone();
        setInline(key);

    }

    function setNone(){
        for(i=1;i<43;i++){
            document.getElementById(i.toString()).style.display="none";
        }
        document.getElementById("msg").style.display = "none";
    }

    function setInline(key) {
        cnt=0;
        for(i=1;i<43;i++){
            s=document.querySelector("#a"+i.toString()).innerHTML;
            if(cnt>15){
                break;
            }

            if(key==i.toString()) {
                document.getElementById(i.toString()).style.display = "block";
                cnt++;
            }

            else if(fuzzyMatch(s,key)){
                document.getElementById(i.toString()).style.display = "block";
                cnt++;
            }
        }
        if(cnt==0){
            document.getElementById("msg").style.display = "block";
        }

    }

    function fuzzyMatch(str, key){
        let index = -1, flag = false;
        for(var i = 0, arr = key.split(""); i < arr.length; i++ ){
            if(str.indexOf(arr[i]) < 0){
                break;
            }else{
                let match = str.matchAll(arr[i]);
                let next = match.next();
                while (!next.done){
                    if(next.value.index > index){
                        index = next.value.index;
                        if(i === arr.length - 1){
                            flag = true
                        }
                        break;
                    }
                    next = match.next();
                }
            }
        }
        return flag
    }


</script>


</body>
</html>